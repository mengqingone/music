webpackJsonp([0],{kvay:function(s,t,e){"use strict";var i=e("Dd8w"),a=e.n(i),l=e("ZV4u"),n=e("Ewld"),r=e("UNFc"),o=e("NYxO"),c={mixins:[e("40da").a],props:{bgImage:{type:String,default:""},songs:{type:Array,default:function(){return[]}},title:{type:String,default:""},rank:{type:Boolean,default:!1}},data:function(){return{name:"musicList",listenScroll:!0,probeType:3,scrollHeight:0,TitleHeight:40,reduceHeight:!1,refreshed:!1}},components:{songList:l.a,scroll:n.a,loading:r.a},methods:a()({},Object(o.b)(["playMusic","randomPlayMusic"]),{scroll:function(s){var t=this.$refs.layer,e=this.$refs.bgImg;-1*s.y<this.scrollHeight-this.TitleHeight?(t.style="transform: translateY("+s.y+"px);",this.reduceHeight=!1):this.reduceHeight=!0;var i=1;s.y>0&&(i=1+Math.abs(s.y/this.scrollHeight));e.style.transform="scale("+i+")"},back:function(){this.$router.back()},playSong:function(s,t){this.playMusic({songlist:this.songs,index:t})},randomPlay:function(){this.randomPlayMusic({songlist:this.songs})},handlePlayList:function(s){s.length>0&&(this.$refs.imagewithList.style.bottom="60px",this.$refs.songscroll.refresh())}}),mounted:function(){var s=this;this.scrollHeight=parseFloat(window.getComputedStyle(this.$refs.bgImg,null).getPropertyValue("padding-bottom")),this.$nextTick(function(){if(s.$refs.bgImg&&s.$refs.bgImg.clientHeight){var t=s.$refs.bgImg.clientHeight,e=s.$refs.imagewithList.clientHeight;s.$refs.loading.style.height=e-t+"px"}})}},g={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"musiclist-page"},[e("div",{ref:"imagewithList",staticClass:"image-list"},[e("div",{ref:"bgImg",staticClass:"background-image",class:{"bg-reduce":s.reduceHeight}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.bgImage,expression:"bgImage"}]}),s._v(" "),e("div",{staticClass:"bg-blur"}),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!s.reduceHeight&&s.songs.length,expression:"!reduceHeight && songs.length"}],staticClass:"play-btn"},[e("div",{staticClass:"play",on:{click:s.randomPlay}},[e("i",{staticClass:"icon-play"}),s._v(" "),e("span",[s._v("随机播放全部")])])])]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.songs.length,expression:"songs.length"}],ref:"listBody",staticClass:"list-body",class:{"low-zindex":s.reduceHeight}},[e("div",{ref:"layer",staticClass:"layer"}),s._v(" "),e("scroll",{ref:"songscroll",staticClass:"wrapper",attrs:{"list-length":s.songs.length,listenScroll:s.listenScroll,probeType:s.probeType},on:{scroll:s.scroll}},[e("song-list",{attrs:{"s-list":s.songs,rank:s.rank},on:{clickItem:s.playSong}})],1)],1),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!s.songs.length,expression:"!songs.length"}],ref:"loading",staticClass:"songs-loading"},[e("loading",{staticClass:"loading-inner"})],1)]),s._v(" "),e("div",{staticClass:"header-title"},[e("div",{staticClass:"back icon-back",on:{click:s.back}},[e("span")]),s._v(" "),e("h1",{staticClass:"title",domProps:{innerHTML:s._s(s.title)}})])])},staticRenderFns:[]};var h=e("VU/8")(c,g,!1,function(s){e("nhEa")},"data-v-0182b97f",null);t.a=h.exports},nhEa:function(s,t){}});
//# sourceMappingURL=0.2205da3745325d1dfd5a.js.map