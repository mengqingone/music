webpackJsonp([3],{"+eaS":function(t,e){},"01Pe":function(t,e){},"0aAL":function(t,e,s){"use strict";s.d(e,"a",function(){return a}),e.b=function(t,e,s,r){var i={};return i.id=t,i.singerName=e,i.imgUrl="https://y.gtimg.cn/music/photo_new/T001R300x300M000"+s+".jpg?max_age=2592000",i.prefix=r,i};var r=s("Zrlr"),i=s.n(r),a=function t(e){i()(this,t),this.singerName=e.Fsinger_name,this.id=e.Fsinger_id,this.imgUrl="https://y.gtimg.cn/music/photo_new/T001R300x300M000"+e.Fsinger_mid+".jpg?max_age=2592000",this.prefix=e.Findex}},YOyO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("Dd8w"),i=s.n(r),a=s("2X+S"),n=s("Ewld"),o=s("Bafh"),c=s("8stH"),h=s("40da"),l=s("NYxO"),u=s("PSTr"),m={mixins:[h.a],data:function(){return{name:"searchHot",hotlist:[],historyList:[],showPrompt:!1}},computed:i()({totallist:function(){return this.hotlist.concat(this.searchHistory)}},Object(l.c)({searchHistory:"getSearchHistory"})),components:{history:o.a,scroll:n.a,prompt:u.a},created:function(){this.getHotList()},methods:{getHotList:function(){var t=this;Object(c.a)().then(function(e){0===e.code&&(t.hotlist=e.data.hotkey)},function(t){console.log(t)})},clickHotItem:function(t){this.$bus.$emit("searchsetQuery",t.k)},handlePlayList:function(t){t.length>0&&(this.$refs.searchHotPage.style.bottom="60px",this.$refs.scroll.refresh())},refresh:function(){this.$refs.scroll.refresh()},removeAll:function(){this.$refs.history.removeHistory(),this.cancel()},cancel:function(){this.showPrompt=!1},openPrompt:function(){this.showPrompt=!0}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"searchHotPage",staticClass:"search-hot-page"},[s("scroll",{ref:"scroll",staticClass:"swapper",attrs:{listLength:t.totallist.length}},[s("div",[s("div",{staticClass:"search-words"},[s("div",{staticClass:"title"},[s("h1",[t._v("热门搜索")])]),t._v(" "),s("ul",{staticClass:"keyword"},t._l(t.hotlist,function(e,r){return s("li",{key:r,staticClass:"wd",on:{click:function(s){t.clickHotItem(e)}}},[s("span",[t._v(t._s(e.k))])])}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.searchHistory.length,expression:"searchHistory.length"}],staticClass:"search-history"},[s("history",{ref:"history",attrs:{title:"搜索历史",parentName:"search",list:t.searchHistory},on:{openPrompt:t.openPrompt}})],1)])]),t._v(" "),s("prompt",{directives:[{name:"show",rawName:"v-show",value:t.showPrompt,expression:"showPrompt"}],staticClass:"prompt",attrs:{prompt:"是否清空所有搜索记录",leftBtn:"确定",rightBtn:"取消"},on:{makeSure:t.removeAll,cancel:t.cancel}})],1)},staticRenderFns:[]};var p=s("VU/8")(m,f,!1,function(t){s("01Pe")},"data-v-7f304d3b",null).exports,d=s("BkvU"),v=s("0aAL"),y=s("PvFA"),g={mixins:[h.c],data:function(){return{name:"search",SINGERTYPE:2}},components:{searchBox:a.a,searchHot:p,result:d.a},methods:i()({},Object(l.b)(["playSong"]),Object(l.d)({setSinger:"SET_SINGER"}),{playItem:function(t){if(t.type===this.SINGERTYPE){var e=Object(v.b)(t.singerid,t.singername,t.singermid,"");this.setSinger(e),this.$router.push({path:"/singer/"+e.id})}else this.play(t);this.saveQuery()},play:function(t){var e=this;Object(y.b)(t).then(function(){e.playSong(t)})}}),watch:{query:function(t){var e=this;""===t?setTimeout(function(){e.$refs.searchHot.refresh()},400):""!==t&&setTimeout(function(){e.$refs.result.refresh()},400)}}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search-page"},[e("div",{staticClass:"search-input"},[e("search-box",{ref:"searchBox",attrs:{parentName:this.name},on:{setQuery:this.setQuery}})],1),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:""===this.query,expression:"this.query === ''"}],staticClass:"search-hot"},[e("search-hot",{ref:"searchHot"})],1),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:""!==this.query,expression:"this.query !== ''"}],staticClass:"search-result"},[e("result",{ref:"result",attrs:{query:this.query},on:{clickItem:this.playItem,scroll:this.scroll}})],1)])},staticRenderFns:[]};var _=s("VU/8")(g,w,!1,function(t){s("+eaS")},"data-v-381bb8ee",null);e.default=_.exports}});
//# sourceMappingURL=3.8720c404d04c3339d90b.js.map