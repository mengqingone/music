{"version":3,"sources":["webpack:///./src/api/rank.js","webpack:///src/components/rank/rank.vue","webpack:///./src/components/rank/rank.vue?1ef4","webpack:///./src/components/rank/rank.vue"],"names":["Object","__WEBPACK_IMPORTED_MODULE_1_common_js_jsonp__","__WEBPACK_IMPORTED_MODULE_2__config__","topid","data","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","needNewCode","uin","tpl","page","type","platform","song_begin","song_num","mixins","mixin","name","topList","components","scroll","base_scroll","loading","imageloading","created","this","getlist","methods","extends_default","vuex_esm","setRankItem","_this","rank","then","res","code","length","concat","catch","err","console","log","handlePlayList","list","$refs","rankPage","style","bottom","refresh","openDetail","item","$router","push","path","id","components_rank_rank","render","_vm","_h","$createElement","_c","_self","ref","staticClass","directives","rawName","value","expression","attrs","listLength","_l","index","key","on","click","$event","preventDefault","_v","detail","idx","_s","songname","singername","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","rank_rank","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.6c779553424988ae8e00.js","sourcesContent":["import jsonp from 'common/js/jsonp'\r\nimport {commondata, options} from './config'\r\n\r\nexport function getTopList() {\r\n  const url = '/apis/v8/fcg-bin/fcg_myqq_toplist.fcg'\r\n  return jsonp(url, '', options)\r\n}\r\n\r\nexport function getTopSongs(topid) {\r\n  const url = '/apis/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\r\n\r\n  let data = Object.assign({}, commondata, {\r\n    topid,\r\n    needNewCode: 1,\r\n    uin: 0,\r\n    tpl: 3,\r\n    page: 'detail',\r\n    type: 'top',\r\n    platform: 'h5',\r\n    song_begin: 0,\r\n    song_num: 100\r\n  })\r\n  return jsonp(url, data, options)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/rank.js","<template>\r\n  <div class='rank-page' ref=\"rankPage\">\r\n    <scroll class='wrapper' v-show=\"topList.length > 0\" :listLength=\"topList.length\" ref=\"scroll\">\r\n      <ul class='rank-list' >\r\n        <li v-for=\"(item, index) in topList\"\r\n            :key=\"index\"\r\n            class='rank-item'\r\n            @click.prevent=\"openDetail(item)\">\r\n        <div class='rank-left'>\r\n          <img class='rank-image' v-lazy=\"item.picUrl\">\r\n        </div>\r\n        <ul class='rank-right'>\r\n          <li class='rank-right-item'\r\n            v-for=\"(detail, idx) in item.songList\"\r\n            v-if=\"idx < 3\"\r\n            :key=\"idx\">\r\n            <span class='item-num'>{{idx}}</span>\r\n            <span class='item-info'>{{detail.songname + \"-\"+ detail.singername}}</span>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n      </ul>\r\n    </scroll>\r\n    <div class='loading' v-show=\"topList.length <= 0\">\r\n      <loading class='loading-inner'></loading>\r\n    </div>\r\n    <transition name=\"slider\">\r\n      <router-view></router-view>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getTopList} from '@/api/rank.js'\r\nimport scroll from '@/base/scroll'\r\nimport {mixin} from '@/api/mixin'\r\nimport loading from '@/base/loading/imageloading'\r\nimport { mapMutations } from 'vuex'\r\nexport default {\r\n  mixins: [mixin],\r\n  data() {\r\n    return {\r\n      name: 'rank',\r\n      topList: []\r\n    }\r\n  },\r\n  components: {\r\n    scroll,\r\n    loading\r\n  },\r\n  created() {\r\n    this.getlist()\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      setRankItem: 'SET_RANK'\r\n    }),\r\n    getlist() {\r\n      getTopList().then((res) => {\r\n        if (res.code === 0 && res.data.topList && res.data.topList.length > 0) {\r\n          this.topList = res.data.topList.concat()\r\n        }\r\n      }).catch(function(err) {\r\n        console.log(err)\r\n      })\r\n    },\r\n    handlePlayList(list) {\r\n      if (list.length > 0 && this.$refs.rankPage) {\r\n        this.$refs.rankPage.style.bottom = '60px'\r\n        this.$refs.scroll.refresh()\r\n      }\r\n    },\r\n    openDetail(item) {\r\n      this.setRankItem(item)\r\n      this.$router.push({path: `/rank/${item.id}`})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.rank-page\r\n  position absolute\r\n  top 88px\r\n  left 0\r\n  right 0\r\n  bottom 0\r\n  overflow hidden\r\n  .wrapper\r\n    height: 100%\r\n    width: 100%\r\n    .rank-item\r\n      display flex\r\n      flex-direction row\r\n      justify-content flex-start\r\n      padding 10px 20px\r\n      height 100px\r\n      line-height 100px\r\n      overflow hidden\r\n      .rank-left\r\n        flex: 0 0 100px\r\n        width: 100px\r\n        height: 100px\r\n        background green\r\n        .rank-image\r\n          width: 100%\r\n          height: 100%\r\n      .rank-right\r\n        flex 1\r\n        display flex\r\n        flex-direction column\r\n        justify-content center\r\n        align-items left\r\n        padding-left 20px\r\n        font-size 12px\r\n        background: #333\r\n        color: hsla(0,0%,100%,.3)\r\n        overflow hidden\r\n        .rank-right-item\r\n          text-align left\r\n          line-height: 26px\r\n          width: 100%\r\n          text-overflow: ellipsis\r\n          overflow: hidden\r\n          white-space: nowrap\r\n  .loading\r\n    position absolute\r\n    top: 0\r\n    left 0\r\n    right 0\r\n    bottom 0\r\n    .loading-inner\r\n      position:absolute\r\n      top: 50%\r\n      left: 50%\r\n      transform : translateY(-50%) translateX(-50%)\r\n  .slider-enter,\r\n  .slider-leave-to {\r\n    transform translateX(100%)\r\n  }\r\n  .slider-enter-active,\r\n  .slider-leave-active{\r\n    transition all .4s\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/rank/rank.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"rankPage\",staticClass:\"rank-page\"},[_c('scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topList.length > 0),expression:\"topList.length > 0\"}],ref:\"scroll\",staticClass:\"wrapper\",attrs:{\"listLength\":_vm.topList.length}},[_c('ul',{staticClass:\"rank-list\"},_vm._l((_vm.topList),function(item,index){return _c('li',{key:index,staticClass:\"rank-item\",on:{\"click\":function($event){$event.preventDefault();_vm.openDetail(item)}}},[_c('div',{staticClass:\"rank-left\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}],staticClass:\"rank-image\"})]),_vm._v(\" \"),_c('ul',{staticClass:\"rank-right\"},_vm._l((item.songList),function(detail,idx){return (idx < 3)?_c('li',{key:idx,staticClass:\"rank-right-item\"},[_c('span',{staticClass:\"item-num\"},[_vm._v(_vm._s(idx))]),_vm._v(\" \"),_c('span',{staticClass:\"item-info\"},[_vm._v(_vm._s(detail.songname + \"-\"+ detail.singername))])]):_vm._e()}))])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.topList.length <= 0),expression:\"topList.length <= 0\"}],staticClass:\"loading\"},[_c('loading',{staticClass:\"loading-inner\"})],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slider\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-98d10fe2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/rank/rank.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-98d10fe2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./rank.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rank.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rank.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-98d10fe2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./rank.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-98d10fe2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rank/rank.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}